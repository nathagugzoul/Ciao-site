<form id="ask-form">
  <input type="text" id="question" placeholder="Pose ta question ici" required>
  <button type="submit">Envoyer</button>
</form>

<pre id="response" style="white-space: pre-wrap; font-family: sans-serif;"></pre>

<script>
document.getElementById('ask-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  const question = document.getElementById('question').value;
  const responseEl = document.getElementById('response');
  responseEl.innerText = 'â³ Chargement...';

  try {
    const response = await fetch('https://ciao-backend.onrender.com/ask', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ question })
    });
    const data = await response.json();
    responseEl.innerText = `ğŸŸ¡ Question :\n${question}\n\nğŸŸ¢ RÃ©ponse :\n${data.answer}`;
  } catch (err) {
    responseEl.innerText = 'âŒ Erreur de connexion.';
  }
});
</script>
